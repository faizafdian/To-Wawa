<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Untuk Wawa</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Palatino', 'Garamond', 'Georgia', serif;
            background: linear-gradient(to bottom, rgba(26, 26, 46, 0.7), rgba(22, 33, 62, 0.7)), url('bg1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 40px 20px;
            color: #2d3436;
            overflow-x: hidden;
        }

        .envelope-wrapper {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            background: linear-gradient(to bottom, rgba(26, 26, 46, 0.7), rgba(22, 33, 62, 0.7)), url('bg1.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            transition: opacity 0.8s ease;
        }

        .envelope-wrapper.hide {
            opacity: 0;
            pointer-events: none;
        }

        .envelope {
            position: relative;
            width: 320px;
            height: 200px;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .envelope:hover:not(.open) {
            transform: translateY(-5px);
        }

        .envelope-back {
            position: absolute;
            width: 100%;
            height: 100%;
            background: #f8f7f4;
            border-radius: 4px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .envelope-front {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 50%;
            background: #f8f7f4;
            border-radius: 0 0 4px 4px;
            z-index: 3;
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            width: 0;
            height: 0;
            border-left: 160px solid transparent;
            border-right: 160px solid transparent;
            border-top: 100px solid #8b7355;
            transform-origin: top center;
            transition: all 0.6s ease;
            z-index: 4;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
        }

        .envelope.open .envelope-flap {
            transform: rotateX(180deg);
            border-top-color: #6b5644;
        }

        .envelope-letter {
            position: absolute;
            top: 30px;
            left: 30px;
            width: 260px;
            height: 160px;
            background: #ffffff;
            border-radius: 2px;
            padding: 30px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            transition: all 0.7s ease;
            z-index: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .envelope.open .envelope-letter {
            transform: translateY(-120px);
        }

        .envelope-letter h3 {
            color: #2d3436;
            font-size: 1.8em;
            font-weight: 400;
            letter-spacing: 2px;
            margin-bottom: 15px;
        }

        .envelope-letter p {
            color: #636e72;
            font-size: 0.9em;
            letter-spacing: 1px;
            font-weight: 300;
        }

        .click-hint {
            position: absolute;
            bottom: -50px;
            left: 50%;
            transform: translateX(-50%);
            color: #dfe6e9;
            font-size: 0.9em;
            letter-spacing: 1px;
            animation: fadeInOut 3s infinite;
        }

        @keyframes fadeInOut {
            0%, 100% { opacity: 0.5; }
            50% { opacity: 1; }
        }

        .container {
            background: #ffffff;
            border-radius: 2px;
            padding: 60px 50px;
            max-width: 650px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
            line-height: 1.8;
            position: relative;
            z-index: 1;
        }

        .container.show {
            opacity: 1;
            transform: translateY(0);
        }

        h1 {
            color: #2d3436;
            font-size: 2em;
            font-weight: 400;
            margin-bottom: 10px;
            letter-spacing: 3px;
            text-align: center;
            border-bottom: 1px solid #e0e0e0;
            padding-bottom: 20px;
        }

        .subtitle {
            color: #636e72;
            text-align: center;
            font-size: 0.95em;
            margin-bottom: 40px;
            font-weight: 300;
            letter-spacing: 1px;
        }

        .section {
            margin: 35px 0;
            padding: 0;
        }

        .section h2 {
            color: #2d3436;
            font-size: 1.3em;
            font-weight: 400;
            margin-bottom: 20px;
            letter-spacing: 2px;
            padding-left: 15px;
        }

        .message {
            color: #2d3436;
            line-height: 1.9;
            margin: 15px 0;
            font-size: 1em;
            font-weight: 300;
            text-align: justify;
        }

        .quote-box {
            background: #f8f7f4;
            color: #2d3436;
            padding: 30px;
            margin: 35px 0;
            text-align: center;
            font-size: 1.05em;
            line-height: 1.8;
            font-style: italic;
            font-weight: 300;
            letter-spacing: 0.5px;
        }

        .divider {
            height: 1px;
            background: linear-gradient(to right, transparent, #e0e0e0, transparent);
            margin: 40px 0;
        }

        /* ========== FLOATING BONEKA AIS ========== */
        .floating-bear {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 80px;
            height: 80px;
            background: #8b7355;
            border-radius: 50%;
            cursor: pointer;
            z-index: 9998;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 2.5em;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            animation: floatBear 3s ease-in-out infinite;
        }

        .floating-bear.show {
            display: flex;
        }

        .floating-bear:hover {
            transform: scale(1.1) rotate(5deg);
        }

        .floating-bear:active {
            animation: jump 0.5s ease;
        }

        @keyframes floatBear {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        @keyframes jump {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            25% { transform: translateY(-30px) rotate(-10deg); }
            50% { transform: translateY(-40px) rotate(0deg); }
            75% { transform: translateY(-30px) rotate(10deg); }
        }

        .bear-speech {
            position: absolute;
            bottom: 100px;
            right: 20px;
            background: white;
            padding: 15px 20px;
            border-radius: 20px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            font-size: 0.9em;
            font-family: 'Georgia', serif;
            color: #2d3436;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 9997;
            max-width: 200px;
        }

        .bear-speech.show {
            opacity: 1;
        }

        .bear-speech::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 30px;
            width: 0;
            height: 0;
            border-left: 10px solid transparent;
            border-right: 10px solid transparent;
            border-top: 10px solid white;
        }

        /* ========== FALLING HEARTS ========== */
        .heart {
            position: fixed;
            font-size: 20px;
            color: rgba(255, 182, 193, 0.8);
            pointer-events: none;
            z-index: 9996;
            animation: fall linear forwards;
        }

        @keyframes fall {
            0% {
                transform: translateY(-10vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(110vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* ========== MUSIC VISUALIZER ========== */
        .music-visualizer {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: none;
            flex-direction: row;
            align-items: flex-end;
            gap: 4px;
            height: 50px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 25px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
            cursor: pointer;
            z-index: 9998;
            transition: all 0.3s ease;
        }

        .music-visualizer.show {
            display: flex;
        }

        .music-visualizer:hover {
            transform: scale(1.05);
        }

        .visualizer-bar {
            width: 4px;
            background: linear-gradient(to top, #8b7355, #c9a88a);
            border-radius: 2px;
            transition: height 0.1s ease;
        }

        .music-icon {
            font-size: 1.2em;
            margin-right: 5px;
            color: #2d3436;
        }

        @media (max-width: 768px) {
            body {
                padding: 20px;
            }

            .envelope {
                width: 280px;
                height: 175px;
            }

            .envelope-flap {
                border-left: 140px solid transparent;
                border-right: 140px solid transparent;
                border-top: 87px solid #8b7355;
            }

            .envelope-letter {
                width: 230px;
                height: 140px;
                padding: 25px;
                left: 25px;
                top: 27px;
            }

            .envelope-letter h3 {
                font-size: 1.5em;
            }

            .container {
                padding: 40px 30px;
            }

            h1 {
                font-size: 1.8em;
                letter-spacing: 2px;
            }

            .section h2 {
                font-size: 1.2em;
            }

            .message {
                font-size: 0.95em;
            }

            .quote-box {
                padding: 25px 20px;
                font-size: 1em;
            }

            .floating-bear {
                width: 70px;
                height: 70px;
                font-size: 2em;
                bottom: 15px;
                right: 15px;
            }

            .bear-speech {
                bottom: 90px;
                right: 15px;
                font-size: 0.85em;
                max-width: 180px;
            }

            .music-visualizer {
                bottom: 15px;
                left: 15px;
                height: 45px;
            }
        }

        @media (max-width: 480px) {
            .envelope {
                width: 240px;
                height: 150px;
            }

            .envelope-flap {
                border-left: 120px solid transparent;
                border-right: 120px solid transparent;
                border-top: 75px solid #8b7355;
            }

            .envelope-letter {
                width: 190px;
                height: 120px;
                padding: 20px;
                left: 25px;
                top: 25px;
            }

            .envelope-letter h3 {
                font-size: 1.3em;
                margin-bottom: 10px;
            }

            .envelope-letter p {
                font-size: 0.85em;
            }

            .container {
                padding: 35px 25px;
            }

            h1 {
                font-size: 1.5em;
                letter-spacing: 1px;
                padding-bottom: 15px;
            }

            .subtitle {
                font-size: 0.9em;
                margin-bottom: 30px;
            }

            .section h2 {
                font-size: 1.1em;
                margin-bottom: 15px;
            }

            .message {
                font-size: 0.9em;
                line-height: 1.8;
            }

            .quote-box {
                padding: 20px 15px;
                font-size: 0.95em;
                margin: 25px 0;
            }

            .floating-bear {
                width: 60px;
                height: 60px;
                font-size: 1.8em;
            }

            .bear-speech {
                font-size: 0.8em;
                max-width: 150px;
            }

            .music-visualizer {
                height: 40px;
            }

            .visualizer-bar {
                width: 3px;
            }
        }
    </style>
</head>
<body>
    <!-- Envelope Wrapper -->
    <div class="envelope-wrapper" id="envelopeWrapper">
        <div class="envelope" id="envelope">
            <div class="envelope-back"></div>
            <div class="envelope-front"></div>
            <div class="envelope-flap"></div>
            <div class="envelope-letter">
                <h3>Wawa</h3>
                <p>Klik untuk membuka</p>
            </div>
            <div class="click-hint">Klik amplop untuk membuka</div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container" id="mainContent">
        <h1>UNTUK WAWA</h1>
        <p class="subtitle">Beberapa hal yang ingin kusampaikan</p>

        <div class="section">
            <p class="message">Halo Wawa, boneka yang kuberikan ini namanya Ais. Semoga dia bisa menemanimu setiap waktu.</p>
            <p class="message">Sebelumnya aku mau minta maaf kalau selama ini aku mengganggu atau membuat kamu merasa tidak nyaman.</p>
            <p class="message">Sejak aku bertemu kamu, aku merasa ada yang berbeda. Senyumanmu yang manis dan wajahmu yang imut selalu membuatku tersenyum ðŸ˜Š</p>
            <p class="message">Minggu ini adalah hari terakhirku di sini. Terima kasih sudah menjadi temanku, meskipun hanya sebentar.</p>
            <p class="message">Sebenarnya aku ingin lebih sering mengobrol atau chat denganmu. Tapi mungkin aku agak grogi dan bingung harus membahas apa. Ini juga pertama kalinya aku ngobrol dengan seseorang sedekat ini selain membahas tugas ðŸ˜…</p>
            <p class="message">Sejak yang kamu katakan kemarin, aku jadi bingung dan agak sedih juga. Tapi tidak apa-apa, ini menjadi pengalaman berharga untukku. Padahal aku sempat ingin mengajakmu jalan. Tapi kalau kamu berubah pikiran, chat aku saja ya. Aku tidak akan memaksamu, keputusan ada di tanganmu.</p>
        </div>

        <div class="divider"></div>

        <div class="quote-box">
            Kehadiranmu yang singkat membawa kebahagiaan sederhana tapi sangat bermakna.
        </div>
        
        <div class="divider"></div>

        <div class="section">
            <h2>Pesan Terakhir</h2>
            <p class="message">Terima kasih sudah menjadi dirimu yang luar biasa. Jangan pernah berubah, karena kamu sudah sempurna apa adanya.</p>
            <p class="message">Terima kasih juga sudah menjadi temanku, meskipun hanya sementara.</p>
            <p class="message">Jaga Ais dengan baik ya. Dia adalah simbol pertemanan kita. Tapi kalau kamu merasa tidak nyaman, tidak apa-apa untuk memberikannya pada orang lain, yang penting jangan mengembalikannya kepadaku lagi. Tapi mungkin jika kamu menyimpan Ais dengan baik, itu akan membuat aku senang.</p>
            <p class="message">Nice to meet you.</p>
            <p class="message">I hope to see you again.</p> 
        </div>
    </div>

    <!-- Floating Bear -->
    <div class="floating-bear" id="floatingBear">ðŸ§¸</div>
    <div class="bear-speech" id="bearSpeech"></div>

    <!-- Music Visualizer -->
    <div class="music-visualizer" id="musicVisualizer">
        <span class="music-icon">ðŸŽµ</span>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
        <div class="visualizer-bar"></div>
    </div>

    <!-- Audio Player -->
    <audio id="audioPlayer" loop></audio>

    <script>
        // ============================================
        // KONFIGURASI
        // ============================================
        const CONFIG = {
            musicURL: 'INDAHNYA DIRIMu - HIVI  lirik lagu.mp3',
            musicVolume: 0.4,
            envelopeOpenDelay: 1000,
            contentShowDelay: 300,
            heartInterval: 2000,
            bearMessages: [
                "Halo dari Ais! ðŸ§¸",
                "Jaga Wawa ya! ðŸ’•",
                "Aku teman barumu!",
                "Semangat Wawa! âœ¨",
                "Kamu hebat! ðŸŒŸ"
            ]
        };

        // ============================================
        // ELEMENT REFERENCES
        // ============================================
        const elements = {
            audioPlayer: document.getElementById('audioPlayer'),
            envelopeWrapper: document.getElementById('envelopeWrapper'),
            envelope: document.getElementById('envelope'),
            mainContent: document.getElementById('mainContent'),
            floatingBear: document.getElementById('floatingBear'),
            bearSpeech: document.getElementById('bearSpeech'),
            musicVisualizer: document.getElementById('musicVisualizer')
        };

        // ============================================
        // STATE
        // ============================================
        let isPlaying = false;
        let heartInterval = null;
        let visualizerInterval = null;

        // ============================================
        // AUDIO SETUP
        // ============================================
        function initializeAudio() {
            elements.audioPlayer.src = CONFIG.musicURL;
            elements.audioPlayer.volume = CONFIG.musicVolume;
        }

        // ============================================
        // ENVELOPE ANIMATION
        // ============================================
        function openEnvelope() {
            if (elements.envelope.classList.contains('open')) {
                return;
            }
            
            elements.envelope.classList.add('open');
            elements.envelope.style.cursor = 'default';
            
            setTimeout(() => {
                playBackgroundMusic();
                elements.envelopeWrapper.classList.add('hide');
                
                setTimeout(() => {
                    elements.mainContent.classList.add('show');
                    showInteractiveElements();
                    startFallingHearts();
                }, CONFIG.contentShowDelay);
            }, CONFIG.envelopeOpenDelay);
        }

        // ============================================
        // MUSIC PLAYER
        // ============================================
        function playBackgroundMusic() {
            elements.audioPlayer.play().then(() => {
                isPlaying = true;
                startVisualizer();
            }).catch(error => {
                console.log('Autoplay prevented:', error);
            });
        }

        function toggleMusic() {
            if (isPlaying) {
                elements.audioPlayer.pause();
                isPlaying = false;
                stopVisualizer();
            } else {
                elements.audioPlayer.play();
                isPlaying = true;
                startVisualizer();
            }
        }

        // ============================================
        // MUSIC VISUALIZER
        // ============================================
        function startVisualizer() {
            const bars = elements.musicVisualizer.querySelectorAll('.visualizer-bar');
            
            visualizerInterval = setInterval(() => {
                bars.forEach(bar => {
                    const height = Math.random() * 30 + 10;
                    bar.style.height = height + 'px';
                });
            }, 100);
        }

        function stopVisualizer() {
            if (visualizerInterval) {
                clearInterval(visualizerInterval);
                const bars = elements.musicVisualizer.querySelectorAll('.visualizer-bar');
                bars.forEach(bar => {
                    bar.style.height = '10px';
                });
            }
        }

        // ============================================
        // FLOATING BEAR
        // ============================================
        function showInteractiveElements() {
            elements.floatingBear.classList.add('show');
            elements.musicVisualizer.classList.add('show');
        }

        function showBearMessage() {
            const randomMessage = CONFIG.bearMessages[Math.floor(Math.random() * CONFIG.bearMessages.length)];
            elements.bearSpeech.textContent = randomMessage;
            elements.bearSpeech.classList.add('show');
            
            setTimeout(() => {
                elements.bearSpeech.classList.remove('show');
            }, 3000);
        }

        // ============================================
        // FALLING HEARTS
        // ============================================
        function createHeart() {
            const heart = document.createElement('div');
            heart.className = 'heart';
            heart.textContent = 'ðŸ’–';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
            
            document.body.appendChild(heart);
            
            setTimeout(() => {
                heart.remove();
            }, 7000);
        }

        function startFallingHearts() {
            createHeart();
            heartInterval = setInterval(createHeart, CONFIG.heartInterval);
        }

        function stopFallingHearts() {
            if (heartInterval) {
                clearInterval(heartInterval);
            }
        }

        // ============================================
        // EVENT LISTENERS
        // ============================================
        function setupEventListeners() {
            elements.envelope.addEventListener('click', openEnvelope);
            elements.floatingBear.addEventListener('click', showBearMessage);
            elements.musicVisualizer.addEventListener('click', toggleMusic);
            
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Enter' || event.key === ' ') {
                    if (!elements.envelope.classList.contains('open')) {
                        openEnvelope();
                    }
                }
            });
        }

        // ============================================
        // INITIALIZATION
        // ============================================
        function init() {
            initializeAudio();
            setupEventListeners();
            console.log('Application initialized successfully');
        }

        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>
